<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	th:replace="user_views/user_base::layout(${title},~{::section})">

<section>
	<div class="base-container base-container-contact-list">
		<div>
		<div class="card card-custom card-contact-list" style="width: 55rem;">
			<div class="card-body">
				<h3 class="card-title text-center">MY CONTACTS</h3>
				<table class="table contact-list">
						<thead>
							<tr>
								<th scope="col"style="width:15%">#ID</th>
								<th scope="col" style="width:15%">Name</th>
								<th scope="col" style="width:15%">Phone</th>
								<th scope="col"style="width:30%">Email</th>
								<th scope="col"style="width:20%">Actions</th>
							</tr>
						</thead>

						<tbody th:each="c,status:${contactList}">
							<tr>
								<td scope="row" th:text="${'SCM2021_'+ c.contactId}"></td>
								<td th:text="${c.name}"></td>
								<td th:text="${c.phoneNo}"></td>
								<td th:text="${c.email}"></td>
								<td><a th:href=@{/user/update/{contactId}(contactId=${c.contactId})}><button
										class="btn btn-primary">Update</button></a> 
									<a th:href=@{/user/delete/{contactId}(contactId=${c.contactId})}><button
										class="btn btn-danger">Delete</button></a>
								</td>
							</tr>
						</tbody>
				</table>
			
		<div class="row">
			<div class="col-2">
				<!-- pagination-->
				<div class="">
					<nav aria-label="Page navigation example" class="text-center">
						<ul th:if="${totalPages!=0}" class="pagination">
							<!--previous button-->
							<li th:if="${currentPage!=0}">
								<a class="page-link" th:href="@{/user/myContacts/{page}(page=${currentPage-1})}">Previous</a></li>

							<!-- indexed buttons -->
							<li class="page-item" th:classappend="${currentPage==i-1?'active':''}" 
								th:each="i:${#numbers.sequence(1,totalPages)}">
								<a class="page-link" th:href="@{/user/myContacts/{page}(page=${i-1})}"><span th:text="${i}"></span></a></li>

							<!-- next button -->
							<li th:if="${currentPage+1!=totalPages}">
								<a class="page-link" th:href="@{/user/myContacts/{page}(page=${currentPage+1})}">Next</a></li>							
						</ul>
					</nav>
				</div>
			</div>
				<!-- pagination ends -->
				<div class="col-2 offset-8">
					<a th:href="@{/user/addContactForm}"><button class="btn-custom">Add Contact</button></a>
				</div>
				
		</div>
		</div>
					

			</div>
		</div>
	</div>
		
	</div>
	
</section>
</html>